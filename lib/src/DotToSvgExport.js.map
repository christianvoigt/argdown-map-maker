{"version":3,"sources":["../../src/DotToSvgExport.js"],"names":["_","DotToSvgExport","config","previousSettings","settings","defaultsDeep","format","name","data","dotToSvg","dot","svg","module","exports"],"mappings":";;;;AAAA;;;;AACA;;IAAYA,C;;;;;;;;IAENC,c;;;0BACSC,M,EAAQ;AACf,gBAAIC,mBAAmB,KAAKC,QAA5B;AACA,gBAAI,CAACD,gBAAL,EAAuB;AACnBA,mCAAmB,EAAnB;AACH;AACD,iBAAKC,QAAL,GAAgBJ,EAAEK,YAAF,CAAe,EAAf,EAAmBH,MAAnB,EAA2BC,gBAA3B,CAAhB;AACA;AACA,iBAAKC,QAAL,CAAcE,MAAd,GAAuB,KAAvB;AACH;;;AACD,4BAAYJ,MAAZ,EAAoB;AAAA;;AAChB,aAAKK,IAAL,GAAY,WAAZ;AACA,aAAKL,MAAL,GAAcA,MAAd;AACH;;;;4BACGM,I,EAAM;AACN,gBAAIA,KAAKN,MAAT,EAAiB;AACb,oBAAIM,KAAKN,MAAL,CAAYO,QAAhB,EAA0B;AACtB,yBAAKP,MAAL,GAAcM,KAAKN,MAAL,CAAYO,QAA1B;AACH,iBAFD,MAEO,IAAID,KAAKN,MAAL,CAAYD,cAAhB,EAAgC;AACnC,yBAAKC,MAAL,GAAcM,KAAKN,MAAL,CAAYD,cAA1B;AACH;AACJ;AACD,gBAAI,CAACO,KAAKE,GAAV,EAAe;AACX,uBAAOF,IAAP;AACH;AACDA,iBAAKG,GAAL,GAAW,mBAAIH,KAAKE,GAAT,EAAc,KAAKN,QAAnB,CAAX;AACA,mBAAOI,IAAP;AACH;;;;;;AAELI,OAAOC,OAAP,GAAiB;AACbZ,oBAAgBA;AADH,CAAjB","file":"DotToSvgExport.js","sourcesContent":["import Viz from 'viz.js';\nimport * as _ from 'lodash';\n\nclass DotToSvgExport {\n    set config(config) {\n        let previousSettings = this.settings;\n        if (!previousSettings) {\n            previousSettings = {};\n        }\n        this.settings = _.defaultsDeep({}, config, previousSettings);\n        // enforce svg export\n        this.settings.format = 'svg';\n    }\n    constructor(config) {\n        this.name = \"DotExport\";\n        this.config = config;\n    }\n    run(data) {\n        if (data.config) {\n            if (data.config.dotToSvg) {\n                this.config = data.config.dotToSvg;\n            } else if (data.config.DotToSvgExport) {\n                this.config = data.config.DotToSvgExport;\n            }\n        }\n        if (!data.dot) {\n            return data;\n        }\n        data.svg = Viz(data.dot, this.settings);\n        return data;\n    }\n}\nmodule.exports = {\n    DotToSvgExport: DotToSvgExport\n}\n"]}